<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GovernanceMap™ – Interactive Dashboard</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      margin: 0;
      background: #f8f9fc;
      color: #1e293b;
    }
    header {
      background: linear-gradient(90deg, #1e1b4b, #4338ca);
      color: white;
      padding: 1rem 1.5rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    header h1 {
      font-size: 1.2rem;
      margin: 0;
    }
    nav button {
      background: #6366f1;
      border: none;
      color: white;
      border-radius: 8px;
      padding: 0.5rem 1rem;
      font-weight: 500;
    }
    main {
      padding: 1.5rem;
      max-width: 900px;
      margin: 0 auto;
    }
    .stats {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
    }
    .card {
      background: white;
      flex: 1;
      min-width: 160px;
      text-align: center;
      padding: 1rem;
      border-radius: 12px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .governance-map {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      grid-template-rows: repeat(2, 120px);
      gap: 1rem;
      margin-top: 2rem;
    }
    .zone {
      background: white;
      border-radius: 12px;
      padding: 1rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.08);
      position: relative;
    }
    .zone h3 {
      margin: 0 0 0.5rem;
      font-size: 1rem;
      color: #4338ca;
    }
    .company {
      font-size: 0.9rem;
      padding: 0.2rem 0.4rem;
      background: #eef2ff;
      border-radius: 6px;
      display: inline-block;
      margin: 0.1rem;
    }
    .alerts {
      margin-top: 2rem;
      background: white;
      padding: 1rem;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.08);
    }
    .alerts h3 {
      margin-top: 0;
      color: #4338ca;
    }
    .alert {
      background: #f1f5f9;
      border-left: 4px solid #6366f1;
      padding: 0.5rem 0.75rem;
      border-radius: 4px;
      margin: 0.5rem 0;
    }
    .add-btn {
      display: block;
      margin: 2rem auto 0;
      background: linear-gradient(90deg, #6366f1, #7c3aed);
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 10px;
      font-weight: 600;
      font-size: 1rem;
    }
  </style>
</head>
<body>
  <header>
    <h1>GovernanceMap™</h1>
    <nav>
      <button onclick="location.reload()">Dashboard</button>
    </nav>
  </header>
  <main>
    <section class="stats">
      <div class="card">
        <h2>5</h2><p>Competitors</p>
      </div>
      <div class="card">
        <h2>3</h2><p>Active Alerts</p>
      </div>
      <div class="card">
        <h2>87%</h2><p>Coverage</p>
      </div>
    </section>

    <section class="governance-map">
      <div class="zone" id="private">
        <h3>Private</h3>
      </div>
      <div class="zone" id="hybrid">
        <h3>Hybrid</h3>
      </div>
      <div class="zone" id="commons">
        <h3>Commons</h3>
      </div>
      <div class="zone" id="protocol">
        <h3>Protocol</h3>
      </div>
    </section>

    <section class="alerts">
      <h3>Alerts</h3>
      <div id="alertList"></div>
    </section>

    <button class="add-btn" onclick="addCompetitor()">+ Add Competitor</button>
  </main>

  <script>
    const companies = [
      { name: "Tesla", type: "private" },
      { name: "Visa", type: "hybrid" },
      { name: "Wikipedia", type: "commons" },
      { name: "Bitcoin", type: "protocol" },
      { name: "Apple", type: "private" },
      { name: "Ethereum", type: "protocol" }
    ];
    const zones = { private: "Private", hybrid: "Hybrid", commons: "Commons", protocol: "Protocol" };
    const colors = { private:"#fef3c7", hybrid:"#dbeafe", commons:"#dcfce7", protocol:"#f3e8ff" };

    // Populate map
    companies.forEach(c => addToZone(c));

    function addToZone(c){
      const el = document.createElement("div");
      el.className = "company";
      el.textContent = c.name;
      document.getElementById(c.type).appendChild(el);
    }

    // Alerts system
    const alertList = document.getElementById("alertList");
    const alerts = [
      "Visa explores DAO-style governance model.",
      "Apple introduces open developer commons.",
      "Bitcoin forks into new protocol governance.",
      "Tesla partners with decentralized network."
    ];
    function showAlert(msg){
      const a = document.createElement("div");
      a.className = "alert";
      a.textContent = msg;
      alertList.prepend(a);
      if(alertList.childNodes.length > 4) alertList.removeChild(alertList.lastChild);
    }
    let i = 0;
    setInterval(() => {
      showAlert(alerts[i % alerts.length]);
      i++;
    }, 4000);

    // Add competitor
    function addCompetitor(){
      const name = "Org" + Math.floor(Math.random()*100);
      const types = ["private","hybrid","commons","protocol"];
      const type = types[Math.floor(Math.random()*4)];
      addToZone({ name, type });
      showAlert(`${name} entered as ${zones[type]} type.`);
    }
  </script>

  <!-- ABOUT & LEGEND PANEL -->
<div id="aboutPanel" style="
  position:fixed; top:0; left:0; width:100%; height:100%;
  background:rgba(0,0,0,0.6); color:#1e293b;
  display:none; align-items:center; justify-content:center;">
  <div style="
    background:white; max-width:500px; border-radius:12px;
    padding:1.5rem; box-shadow:0 4px 12px rgba(0,0,0,0.25);">
    <h2 style="color:#4338ca;">About GovernanceMap™</h2>
    <p><strong>The Governance Dimension</strong> classifies organizations by how they capture and share value:</p>
    <ul>
      <li><b>Private</b> – Closed ownership, proprietary IP (e.g. Apple, Tesla)</li>
      <li><b>Hybrid</b> – Shared platforms, controlled participation (e.g. Visa, Airbnb)</li>
      <li><b>Commons</b> – Open collaboration and collective value (e.g. Wikipedia, Linux)</li>
      <li><b>Protocol</b> – Fully decentralized, rule-based systems (e.g. Bitcoin, Ethereum)</li>
    </ul>
    <p><b>Alerts</b> signal governance shifts or collaborations between these models.</p>
    <p style="font-size:0.9rem;color:#6b7280;margin-top:1rem;">Created by <b>Nathan Lumulisanay</b> · 2025 · CC BY-SA 4.0</p>
    <button onclick="toggleAbout()" style="
      margin-top:1rem; background:#6366f1; color:white;
      border:none; border-radius:8px; padding:0.5rem 1rem;">Close</button>
  </div>
</div>

<!-- INFO BUTTON -->
<button onclick="toggleAbout()" style="
  position:fixed; top:1rem; right:1rem; background:#6366f1;
  color:white; border:none; border-radius:50%; width:40px; height:40px;
  font-weight:bold; font-size:1.2rem; cursor:pointer;">?</button>

<script>
function toggleAbout(){
  const panel=document.getElementById('aboutPanel');
  panel.style.display = panel.style.display==='flex' ? 'none' : 'flex';
}
</script>
  
  <!-- GOVERNANCE INDEX CALCULATOR -->
<div id="calcPanel" style="
  position:fixed; top:0; left:0; width:100%; height:100%;
  background:rgba(0,0,0,0.6); display:none; align-items:center; justify-content:center;">
  <div style="background:white; max-width:520px; border-radius:12px; padding:1.5rem;">
    <h2 style="color:#4338ca;">Governance Index Calculator</h2>
    <form id="govForm">
      <p>Answer 1–5 (1 = Closed / 5 = Open):</p>
      <label>1. Ownership openness</label><br><input type="number" name="q1" min="1" max="5" required><br><br>
      <label>2. Decision participation</label><br><input type="number" name="q2" min="1" max="5" required><br><br>
      <label>3. Partner/user control sharing</label><br><input type="number" name="q3" min="1" max="5" required><br><br>
      <label>4. Transparency & reporting</label><br><input type="number" name="q4" min="1" max="5" required><br><br>
      <label>5. Knowledge/IP reusability</label><br><input type="number" name="q5" min="1" max="5" required><br><br>
      <button type="submit" style="
        background:#6366f1;color:white;border:none;border-radius:8px;
        padding:0.5rem 1rem;">Calculate</button>
    </form>

    <div id="calcResult" style="display:none; margin-top:1rem;">
      <h3 style="color:#4338ca;">Result</h3>
      <p id="scoreText"></p>
      <p id="recommendation" style="color:#475569;"></p>
      <button onclick="toggleCalc()" style="
        margin-top:1rem;background:#6366f1;color:white;border:none;
        border-radius:8px;padding:0.5rem 1rem;">Close</button>
    </div>
  </div>
</div>

<!-- OPEN CALCULATOR BUTTON -->
<button onclick="toggleCalc()" style="
  position:fixed; bottom:1rem; right:1rem; background:#7c3aed;
  color:white; border:none; border-radius:50%; width:50px; height:50px;
  font-weight:bold; font-size:1.2rem; cursor:pointer;">⚙️</button>

<script>
function toggleCalc(){
  const c=document.getElementById('calcPanel');
  c.style.display = c.style.display==='flex' ? 'none':'flex';
}
document.getElementById('govForm').addEventListener('submit', function(e){
  e.preventDefault();
  const data=new FormData(this);
  let sum=0;
  for(let v of data.values()) sum += parseInt(v);
  const avg=sum/5;
  const score = Math.round(avg*20);
  let position, rec;
  if(score < 30){ position="Private"; rec="High control, low openness — ideal for proprietary strategy."; }
  else if(score < 50){ position="Hybrid"; rec="Balanced governance — suitable for platform collaboration."; }
  else if(score < 70){ position="Commons"; rec="Collaborative and transparent — supports open ecosystems."; }
  else { position="Protocol"; rec="Fully decentralized model — leverage trustless automation."; }
  document.getElementById('scoreText').innerHTML = 
    `<b>Governance Index:</b> ${score}/100 (${position})`;
  document.getElementById('recommendation').textContent = rec;
  document.getElementById('calcResult').style.display='block';
});
</script>
  
</body>
</html>
